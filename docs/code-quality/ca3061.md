---
title: 'CA3061: URL ile şema eklemeyin'
description: Kod Analizi kuralı CA3061, nedenler, ihlallerin nasıl düzeltileceğini ve ne zaman bastıralınacağını içeren bilgiler sağlar.
ms.date: 08/14/2019
ms.topic: reference
author: filipsebesta
ms.author: filipse
manager: jillfra
dev_langs:
- CSharp
ms.workload:
- multiple
f1_keywords:
- CA3061
- DoNotAddSchemaByURL
ms.openlocfilehash: c1fb7b8f4b3619a0d81d9d9d84e41aa89fd308dd
ms.sourcegitcommit: a18c7e9b367c2f92f6e54c3eaef442775d457667
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90097677"
---
# <a name="ca3061-do-not-add-schema-by-url"></a>CA3061: URL ile şema eklemeyin

|Öğe|Değer|
|-|-|
|RuleId|CA3061|
|Kategori|Microsoft.Security|
|Son değişiklik|Kırılmamış|

## <a name="cause"></a>Nedeni

Öğesinin aşırı yüklemesi `XmlSchemaCollection.Add(String, String)` , `XmlUrlResolver` dış XML ŞEMASıNı bir URI biçiminde belirtmek için kullanmaktır. URI dizesi kullanılıyorsa, XML Bomb ve kötü amaçlı dış varlıkların eklenmesine olanak tanıyan kötü amaçlı bir XML şemasının ayrıştırmasına yol açabilir. Bu, kötü amaçlı bir saldırganın hizmet reddi, bilgilerin açığa çıkması veya sunucu tarafı istek sahteciliği saldırısı gerçekleştirmesine olanak tanıyabilir.

## <a name="rule-description"></a>Kural açıklaması

`Add`Tehlikeli dış başvurulara neden olabileceğinden, metodun güvenli olmayan aşırı yüklemesini kullanmayın.

## <a name="how-to-fix-violations"></a>İhlalleri çözme

- Kullanmayın `XmlSchemaCollection.Add(String, String)` .

## <a name="when-to-suppress-warnings"></a>Uyarıların ne zaman bastırılamıyor

XML 'nizin tehlikeli dış başvuruları çözümleyemediğinden eminseniz bu kuralı gizleyin.

## <a name="pseudo-code-examples"></a>Sözde kod örnekleri

### <a name="violation"></a>Edildiği

Aşağıdaki sözde kod örneğinde, bu kural tarafından algılanan desenler gösterilmektedir.
İkinci parametrenin türü `string` .

```csharp
using System;
using System.Xml.Schema;
...
XmlSchemaCollection xsc = new XmlSchemaCollection();
xsc.Add("urn: bookstore - schema", "books.xsd");
```

### <a name="solution"></a>Çözüm

```csharp
using System;
using System.IO;
using System.Xml;
using System.Xml.Schema;
...
XmlSchemaCollection xsc = new XmlSchemaCollection();
xsc.Add("urn: bookstore - schema", new XmlTextReader(new FileStream(""xmlFilename"", FileMode.Open)));
```
